

\subsection{Problem Complexity}

We define problem complexity as,
\begin{align*}
H^{\tau} = \sum_{i=1}^{K}\dfrac{1}{(\Delta_{i}^{\tau})^{2}} \text{, where } \Delta_{i}^{\tau}=|r_{i}-\tau|
\end{align*}

This is same as the problem complexity defined in \cite{locatelli2016optimal} for the thresholding bandit problem and is similar to the problem complexity defined in \cite{audibert2010best} for single best arm identification.

%\subsection{Lemma 1} For a given horizon $T$ and $\psi=K^{2}T$, $T_{\gamma} = \sum_{m=0}^{\gamma}\dfrac{2\log(\psi T \epsilon_{m}^{2})}{\epsilon_{m}}$ is less than the allocated budget $T$, where $\gamma=0,1,...,\big\lfloor \dfrac{1}{2}\log_{2} \dfrac{T}{e}\big\rfloor$ and $\epsilon_{m}$ is initialized at $1$ and halved after very round. 
%
%\begin{proof}
%For any arbitrary round $m$, we know that the number of pulls allocated for that round is 
%$n_{m} = \dfrac{2\log(\psi T \epsilon_{m}^{2})}{\epsilon_{m}}$. Now, 
%
%\begin{align*}
%n_{m} &= \dfrac{2\log(\psi T \epsilon_{m}^{2})}{\epsilon_{m}}
%= \dfrac{2\log(\psi T) + 2\log(\epsilon_{m}^{2})}{\epsilon_{m}}
%\end{align*}
%
%Taking summation over all rounds for $m=0,1,...,\gamma$. 
%
%\begin{align*}
%T_{\gamma} &= K+\sum_{m=0}^{\gamma}\dfrac{2\log(\psi T) + 4\log(\epsilon_{m})}{\epsilon_{m}}\\
%&= K+2\log (\psi T)\sum_{m=0}^{\gamma}\dfrac{1}{\epsilon_{m}} + \sum_{m=0}^{\gamma}\dfrac{4\log (\epsilon_{m})}{\epsilon_{m}}\\
%&< K+2\log (\psi T)\sum_{m=0}^{\gamma}\dfrac{1}{\epsilon_{m}} + \sum_{m=0}^{\gamma}\dfrac{4}{\epsilon_{m}}\\
%&= K+2\log (\psi T)[1+2+2^{2}+....+2^{\gamma}] + 4[1+2+2^{2}+....+2^{\gamma}]\\
%&= K+2\log (\psi T)[2^{\gamma} - 1] + 4[2^{\gamma} - 1]\\
%&< K+2\log (\psi T)\sqrt{\dfrac{T}{e}} + 4\sqrt{\dfrac{T}{e}}\\
%&= K+2\sqrt{\dfrac{T}{e}}[\log (\psi T) + 2]\\
%&= K+4\sqrt{\dfrac{T}{e}}[\log (K T) + 1] \text{, for } \psi=K^{2}T\\
%&< T
%\end{align*}
%
%
%\end{proof}


\subsection{Theorem 1}

\begin{theorem}
\label{Result:Theorem:1}

For every $0<\eta <1$ and $\gamma > 1$, there exists time $t$ such that for all $T>t$ the simple regret of AugUCB is upper bounded by,
\begin{align*}
SR_{AugUCB} \leq 4K \gamma \exp(\frac{1}{2}- 4\tau^{2}\rho -\dfrac{c_{0}\sqrt{e}}{4}) \sum_{i=1}^{K} \Delta_{i}^{\tau} \bigg(\dfrac{\log (\psi T )}{T^{\frac{3}{2}}(\psi T^2)^{4\tau^{2}\rho}}\bigg)
\end{align*}

with probability at least $1-\eta$, where $c_{0}>0$ is a constant.

\end{theorem}


\begin{proof}

According to the algorithm, the number of rounds is $m=\lbrace 0,1,2,.. M\rbrace $ where $M=\big\lfloor \dfrac{1}{2}\log_{2} \dfrac{T}{e}\big\rfloor$. So, $\epsilon_{m}\geq 2^{-M} = \sqrt{\dfrac{e}{T}}$. Also each round $m$ consists of $|B_{m}|n_{m}$ timesteps where $n_{m} = \dfrac{\log(\psi T \epsilon_{m}^{2})}{\epsilon_{m}}$ and $B_{m}$ is the set of all surviving arms. 

Let $c_{i} = \sqrt{\dfrac{\rho\log{(\psi T\epsilon_{m}^{2})}}{2 n_{i}}}$ denote the confidence interval, where $n_{i}$ is the number of times an arm $i$ is pulled. Let $A^{'}=\lbrace i\in A|\Delta_{i}^{\tau}\geq b\rbrace$, for $b\geq \sqrt{\frac{e}{T}}$. Let $m_{i}$ be the minimum round that an arm $i$ gets eliminated. So $m_{i}=min\lbrace m| \epsilon_{m}<\frac{\Delta_{i}^{\tau}}{2}\rbrace$. 
%In this proof sub-optimal arms refer to the arms whose $r_{i}$ is lower than the threshold $\tau$.

At the end of any round $m$, for any arm $i$, two cases are possible.

\subsubsection{\textit{Case a: Some arm i is not eliminated on or before round $m_{i}$}}
For any arm $i$, if it is eliminated from active set $B_{m}$ then the below two events have to come true,
\begin{align}
\hat{r}_{i} + c_{i} < \tau - c_{i}, \label{eq:armelim-casea}\\
\hat{r}_{i} - c_{i} > \tau + c_{i}, \label{eq:armelim-caseb}
\end{align}

For \ref{eq:armelim-casea} we can see that it eliminates arms that have performed poorly and removes them them from $B_{m}$. Similarly, \ref{eq:armelim-caseb} eliminates arms from $B_{m}$ that have performed very well compared to threshold $\tau$.

Each round consist of $|B_{m_{i}}|n_{m}$ timesteps. In the $m_{i}$-th round an arm $i$ can be pulled no more than $n_{m_{i}}$ times. So when $n_{i}=n_{m_{i}}$, putting the value of $n_{m_{i}}=\dfrac{2\log{(\psi T\epsilon_{m_{i}}^{2})}}{\epsilon_{m_{i}}}$ in $c_{i}$, 
\begin{align*}
c_{i}&=\sqrt{\dfrac{\rho\epsilon_{m_{i}}\log (\psi T\epsilon_{m_{i}}^{2})}{2 n_{i}}}\\
&=\sqrt{\dfrac{\rho\epsilon_{m_{i}}\log (\psi T\epsilon_{m_{i}}^{2})}{2*2 \log(\psi T\epsilon_{m_{i}}^{2})}}\\
& =\dfrac{\sqrt{\rho\epsilon_{m_{i}}}}{2}\\
& \leq \sqrt{\rho\epsilon_{m_{i}+1}} < \dfrac{\Delta_{i}^{\tau}}{4} \text{, as }\rho\in (0,1].
\end{align*}

Again, for ${i} \in A^{'}$ for \ref{eq:armelim-casea} elimination condition, 
\begin{align*}
\hat{r}_{i} + c_{i}&\leq r_{i} + 2c_{i} \\
&= r_{i} + 4c_{i} - 2c_{i} \\
&< r_{i} + \Delta_{i}^{\tau} - 2c_{i}\\
&= \tau -2c_{i} \\
&\leq \tau - c_{i}
\end{align*}

Also, for ${i} \in A^{'}$ for \ref{eq:armelim-caseb} elimination condition, 
\begin{align*}
\hat{r}_{i} - c_{i}&\geq r_{i} - 2c_{i} \\
&= r_{i} - 4c_{i} + 2c_{i} \\
&> r_{i} - \Delta_{i}^{\tau} + 2c_{i}\\
&\geq \tau + 2c_{i} \\
&\geq \tau + c_{i}
\end{align*}

Since, arm elimination condition is being checked at every timestep, in the $m_{i}$-th round as soon as $n_{i}=n_{m_{i}}$, arm $i$ gets eliminated. Applying Chernoff-Hoeffding bound and considering independence of complementary of the two events in \ref{eq:armelim-casea},
  \begin{align*}
\mathbb{P}\lbrace\hat{r}_{i}\geq r_{i} - (\tau + 2c_{i})\rbrace &\leq exp(-2(\tau + 2c_{i})^{2}n_{i})\\
&\leq exp(-2(2\tau c_{i})^{2}n_{i}) \text{ , as} (a+b)^{2} \geq (ab)^{2} \text{ for } a,b\in[0,1]\\
&\leq exp(-8 * \tau^{2}\dfrac{\rho\log (\psi T\epsilon_{m_{i}}^{2})}{2 n_{i}} *n_{i})\\
&\leq \dfrac{1}{(\psi T\epsilon_{m_{i}}^{2})^{4\tau^{2}\rho}}   
  \end{align*}
  
Similarly, $\mathbb{P}\lbrace\hat{r}_{i}\leq r_{i} + (\tau + 2c_{i})\rbrace\leq \dfrac{1}{(\psi  T\epsilon_{m_{i}}^{2})^{4\tau^{2}\rho}}$
 
Summing, the two up, the probability that an arm ${i}$ is not eliminated on or before $m_{i}$-th round based on the \ref{eq:armelim-casea} and \ref{eq:armelim-caseb} elimination condition is  $\bigg(\dfrac{2}{(\psi T\epsilon_{m_{i}}^{2})^{4\tau^{2}\rho}}\bigg)$. 

%Also, for \ref{eq:armelim-caseb} elimination condition by applying Chernoff-Hoeffding bound and considering independence of complementary of the two events in \ref{eq:armelim-caseb} we can derive a similar bound that a sub-optimal arm ${i}$ is not eliminated on or before $m_{i}$-th by $\bigg(\dfrac{2}{(\psi T\epsilon_{m_{i}}^{2})^{\rho}}\bigg)$. 
%
%So the total probability that an arm $i$ is eliminated from $B_{m_{i}}$ is bounded by $\bigg(\dfrac{4}{(\psi T\epsilon_{m_{i}}^{2})^{\rho}}\bigg)$. 

\begin{enumerate}
\item \emph{Fact 1:} From above we know that the probability of elimination of a sub-optimal arm in the $m_{i}$-th round being not eliminated is bounded above by $\bigg(\dfrac{2}{(\psi T\epsilon_{m_{i}}^{2})^{4\tau^{2}\rho}}\bigg)$.
\item \emph{Fact 2:} From \cite{tolpin2012mcts} we know that, for every $0<\eta <1$ and $\gamma > 1$, there exists $t$ such that for all $T>t$ the probability of a sub-optimal arm $i$ being sampled in the $m_{i}$-th round is bounded by $P_{m}\leq 2\gamma \exp(-c_{m}\dfrac{\sqrt{T}}{2})$, where $c_{m}=\dfrac{c_{0}}{2^{m}}$.
\end{enumerate}

We start with an upper bound on the number of plays $\delta_{m_{i}}$ in the $m_{i}$-th round divided by the total number of plays $T$. We know  from Fact $1$  that the total number of arms surviving in the $m_{i}$-th arm is, 

\begin{align*}
|B_{m_{i}}|=\bigg(\dfrac{2K}{(\psi T\epsilon_{m_{i}}^{2})^{4\tau^{2}\rho}}\bigg) 
\end{align*}     

Again in AugUCB, we know that the number of pulls allocated for each surviving arm $i$ in the $m_{i}$-th round is $n_{m_{i}}=\dfrac{2\log (\psi T \epsilon_{m_{i}}^{2})}{\epsilon_{m_{i}}}$. Therefore, the proportion of plays $\delta_{m_{i}}$ in the $m_{i}$-th round can be written as,

\begin{align*}
\delta_{m_{i}}=\dfrac{(|B_{m_{i}}|.n_{m_{i}})}{T} &\leq \bigg(\dfrac{1}{T}.\dfrac{2K}{(\psi T\epsilon_{m_{i}}^{2})^{4\tau^{2}\rho}}.\dfrac{2\log (\psi T \epsilon_{m_{i}}^{2})}{\epsilon_{m_{i}}}\bigg)\\
& \leq \bigg(\dfrac{4K\log (\psi T \epsilon_{m_{i}}^{2})}{T\epsilon_{m_{i}}(\psi T\epsilon_{m_{i}}^{2})^{4\tau^{2}\rho}}\bigg)
\end{align*}

Now, $\epsilon_{m_{i}}\geq \sqrt{\dfrac{e}{T}}$ for all rounds $m=0,1,2,...,\big \lfloor \dfrac{1}{2}\log_{2} \dfrac{T}{e}\big\rfloor$.

\begin{align*}
\delta_{m_{i}} &\leq \bigg(\dfrac{4K\log (\psi T \epsilon_{m_{i}}^{2})}{T\epsilon_{m_{i}}(\psi T\epsilon_{m_{i}}^{2})^{4\tau^{2}\rho}}\bigg)\\
& \leq \bigg(\dfrac{4K\log (\psi T )}{T\epsilon_{M}(\psi T\epsilon_{M}^{2})^{\rho}}\bigg)\\
& \leq \bigg(\dfrac{4Ke^{\frac{1}{2}-4\tau^{2}\rho}\log (\psi T )}{T^{\frac{3}{2}}(\psi T^2)^{4\tau^{2}\rho}}\bigg) 
\end{align*}

Now, applying the bound from Fact $2$, we can show that the probability of the sub-optimal arm $i$ being pulled is bounded above by,

\begin{align*}
P_{i} = \sum_{m=0}^{M} \delta_{m}.P_{m} &\leq \sum_{m=0}^{M} \bigg\lbrace\bigg(\dfrac{4Ke^{\frac{1}{2}-4\tau^{2}\rho}\log (\psi T )}{T^{\frac{3}{2}}(\psi T^2)^{\rho}}\bigg)\\
& \leq M.\bigg\lbrace\bigg(\dfrac{4Ke^{\frac{1}{2}-4\tau^{2}\rho}\log (\psi T )}{T^{\frac{3}{2}}(\psi T^2)^{\rho}}\bigg)\bigg\rbrace 2\gamma \exp(-\dfrac{c_{0}\sqrt{T}}{2^{M}.4})\\
& \leq \log_{2}\dfrac{T}{e}\gamma \exp(\dfrac{c_{0}\sqrt{e}}{4})\bigg\lbrace\bigg(\dfrac{4Ke^{\frac{1}{2}-4\tau^{2}\rho}\log (\psi T )}{T^{\frac{3}{2}}(\psi T^2)^{4\tau^{2}\rho}}\bigg)\bigg\rbrace \text{, for $M=\big \lfloor \dfrac{1}{2}\log_{2} \dfrac{T}{e}\big\rfloor$}
\end{align*}

Therefore we can say that with probability $P_{i}$, all arms $i$ above $\dfrac{\Delta_{i}^{\tau}}{2}$ are accepted and all arms $i$ below $\dfrac{\Delta_{i}^{\tau}}{2}$ are rejected. Hence, the simple regret of AugUCB is upper bounded by,

\begin{align*}
SR_{AugUCB} &= \sum_{i=1}^{K} \Delta_{i}^{\tau}. P_{i} \leq \sum_{i=1}^{K} \Delta_{i}. \log_{2}\dfrac{T}{e}\gamma \exp(\dfrac{c_{0}\sqrt{e}}{4})\bigg\lbrace\bigg(\dfrac{4Ke^{\frac{1}{2}-4\tau^{2}\rho}\log (\psi T )}{T^{\frac{3}{2}}(\psi T^2)^{4\tau^{2}\rho}}\bigg) \bigg\rbrace \\
&\leq 4K \gamma \exp(\frac{1}{2}- 4\tau^{2}\rho -\dfrac{c_{0}\sqrt{e}}{4}) \sum_{i=1}^{K} \Delta_{i}^{\tau} \bigg(\dfrac{\log (\psi T )}{T^{\frac{3}{2}}(\psi T^2)^{4\tau^{2}\rho}}\bigg) 
\end{align*}

%
%\subsubsection{\textit{Case b: For any arm $i$, it is either eliminated on or before round $m_{i}$ or there is no arm above $\tau$.}}
%
%
%	For any round $m$, for any timestep $t\in m$ an arm $i\in B_{m}$ gets pulled if,
%\begin{align*}
%|\hat{r}_{i} - \tau| - c_{i} < |\hat{r}_{k} - \tau| - c_{k} \text{, } \forall k\in B_{m}
%\end{align*}
%
%Now from reverse triangle inequality,
%\begin{align}
%|\hat{r}_{k}(t) - r_{k}|&=|(\hat{r}_{k}(t)-\tau) - (r_{k}-\tau)|\\
%&\geq ||\hat{r}_{k}(t)-\tau|-|(r_{k}-\tau)||\\
%&\geq |\hat{\Delta}_{k}^{\tau}(t) - \Delta_{k}^{\tau}| \label{rev-triangle}
%\end{align}
%
%Also, from Case a, we know that for any arm $i$, in round $m_{i}$
%
%\begin{align}
%|\hat{r}_{i} - r_{i}| \leq c_{m_{i}} =  \sqrt{\dfrac{\rho\log{(\psi T\epsilon_{m}^{2})}}{2 n_{i}}}  \label{bound-1}
%\end{align}
%
%Now, combining \ref{rev-triangle} and \ref{bound-1} we can see that,
%
%\begin{align*}
%&|\hat{\Delta}_{i}^{\tau}(t) - \Delta_{i}^{\tau}| \leq c_{m_{i}}\\
%&\Rightarrow \Delta_{i}^{\tau} - c_{m_{i}} \leq \hat{\Delta}_{i}^{\tau}(t) \leq \Delta_{i}^{\tau} +c_{m_{i}}
%\end{align*}
%
%Since, at time $t$ in round $m_{i}$ the arm $i$ is pulled, so,
%
%\begin{align*}
%\hat{\Delta}_{i}^{\tau} - c_{i} < \hat{\Delta}_{k}^{\tau} - c_{k}, \forall k\in A'
%\end{align*}

\end{proof}

	Next we specialize the result of Theorem \ref{Result:Theorem:1} in Corollary \ref{Result:Corollary:1}.

\subsection{Corollary 2}


\begin{corollary}
\label{Result:Corollary:1}
For $\psi=\dfrac{T}{\log (K)}$ and $\rho=\frac{1}{8\tau^{2}}$, the simple regret of AugUCB is given by,
\begin{align*}
SR_{EClusUCB} \leq  8K \gamma \exp(-\dfrac{c_{0}\sqrt{e}}{4}) \sum_{i=1}^{K} \Delta_{i}  \bigg(\dfrac{2 \sqrt{\log (K)} \log (\dfrac{T}{\sqrt{\log (K)}} )}{T^{3}}\bigg)
\end{align*}
\end{corollary}

\begin{proof}
Putting $\psi=\dfrac{T}{\log (K)}$ and $\rho=\frac{1}{8\tau^{2}}$ in the simple regret obtained in Theorem \ref{Result:Theorem:1}, we get
\begin{align*}
SR_{AugUCB} &\leq 8K \gamma \exp(-\dfrac{c_{0}\sqrt{e}}{4}) \sum_{i=1}^{K} \Delta_{i}^{\tau}  \bigg(\dfrac{\log (\dfrac{T^{2}}{\log (K)} )}{T^{\frac{3}{2}}(\frac{T^3}{\log (K)})^{\frac{1}{2}}}\bigg)\\
& \leq 8K \gamma \exp(-\dfrac{c_{0}\sqrt{e}}{4}) \sum_{i=1}^{K} \Delta_{i}  \bigg(\dfrac{2 \sqrt{\log (K)} \log (\dfrac{T}{\sqrt{\log (K)}} )}{T^{3}}\bigg)
\end{align*} 

\end{proof}