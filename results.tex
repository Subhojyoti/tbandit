

\subsection{Problem Complexity}

We define problem complexity as,
\begin{align*}
H^{\tau} = \sum_{i=1}^{K}\dfrac{1}{(\Delta_{i}^{\tau})^{2}} \text{, where } \Delta_{i}^{\tau}=|r_{i}-\tau|
\end{align*}

This is same as the problem complexity defined in \cite{locatelli2016optimal} for the thresholding bandit problem and is similar to the problem complexity defined in \cite{audibert2010best} for single best arm identification.

\subsection{Lemma 1} For a given horizon $T$ and $\psi=K^{2}T$, $T_{\gamma} = \sum_{m=0}^{\gamma}\dfrac{2\log(\psi T \epsilon_{m}^{2})}{\epsilon_{m}}$ is less than the allocated budget $T$, where $\gamma=0,1,...,\big\lfloor \dfrac{1}{2}\log_{2} \dfrac{T}{e}\big\rfloor$ and $\epsilon_{m}$ is initialized at $1$ and halved after very round. 

\begin{proof}
For any arbitrary round $m$, we know that the number of pulls allocated for that round is 
$n_{m} = \dfrac{2\log(\psi T \epsilon_{m}^{2})}{\epsilon_{m}}$. Now, 

\begin{align*}
n_{m} &= \dfrac{2\log(\psi T \epsilon_{m}^{2})}{\epsilon_{m}}
= \dfrac{2\log(\psi T) + 2\log(\epsilon_{m}^{2})}{\epsilon_{m}}
\end{align*}

Taking summation over all rounds for $m=0,1,...,\gamma$. 

\begin{align*}
T_{\gamma} &= K+\sum_{m=0}^{\gamma}\dfrac{2\log(\psi T) + 4\log(\epsilon_{m})}{\epsilon_{m}}\\
&= K+2\log (\psi T)\sum_{m=0}^{\gamma}\dfrac{1}{\epsilon_{m}} + \sum_{m=0}^{\gamma}\dfrac{4\log (\epsilon_{m})}{\epsilon_{m}}\\
&< K+2\log (\psi T)\sum_{m=0}^{\gamma}\dfrac{1}{\epsilon_{m}} + \sum_{m=0}^{\gamma}\dfrac{4}{\epsilon_{m}}\\
&= K+2\log (\psi T)[1+2+2^{2}+....+2^{\gamma}] + 4[1+2+2^{2}+....+2^{\gamma}]\\
&= K+2\log (\psi T)[2^{\gamma} - 1] + 4[2^{\gamma} - 1]\\
&< K+2\log (\psi T)\sqrt{\dfrac{T}{e}} + 4\sqrt{\dfrac{T}{e}}\\
&= K+2\sqrt{\dfrac{T}{e}}[\log (\psi T) + 2]\\
&= K+4\sqrt{\dfrac{T}{e}}[\log (K T) + 1] \text{, for } \psi=K^{2}T\\
&< T
\end{align*}


\end{proof}


\subsection{Theorem 1}

\begin{proof}

According to the algorithm, the number of rounds is $m=\lbrace 0,1,2,.. \gamma\rbrace $ where $\gamma=\big\lfloor \dfrac{1}{2}\log_{2} \dfrac{T}{e}\big\rfloor$. So, $\epsilon_{m}\geq 2^{-\gamma} = \sqrt{\dfrac{e}{T}}$. Also each round $m$ consists of $n_{m} = \dfrac{\log(\psi T \epsilon_{m}^{2})}{\epsilon_{m}}$ timesteps.

Let $c_{m_{i}}= \sqrt{\dfrac{\rho\log{(\psi T\epsilon_{m}^{2})}}{2 n_{i}}}$ denote the confidence interval, where $n_{i}$ is the number of times an arm $i$ is pulled. Let $A^{'}=\lbrace i\in A|\Delta_{i}^{\tau}\geq b\rbrace$, for $b\geq \sqrt{\frac{e}{T}}$. Let $m_{i}$ be the minimum round that an arm $i$ gets eliminated. So $m_{i}=min\lbrace m| \epsilon_{m}<\frac{\Delta_{i}^{\tau}}{2}\rbrace$. 
%In this proof sub-optimal arms refer to the arms whose $r_{i}$ is lower than the threshold $\tau$.

At the end of any round $m$, for any arm $i$, two cases are possible.

\subsubsection{\textit{Case a: Some arm i is not eliminated on or before round $m_{i}$}}
For any arm $i$, if it is eliminated from active set $B_{m}$ then the below two events have to come true,
\begin{align}
\hat{r}_{i} + c_{m_{i}} < \tau - c_{m_{i}}, \label{eq:armelim-casea}\\
\hat{r}_{i} - c_{m_{i}} > \tau + c_{m_{i}}, \label{eq:armelim-caseb}
\end{align}

For \ref{eq:armelim-casea} we can see that it eliminates arms that have performed poorly and removes them them from $B_{m}$. Similarly, \ref{eq:armelim-caseb} eliminates arms from $B_{m}$ that have performed very well compared to threshold $\tau$.

Each round consist of $n_{m_{i}}$ timesteps and so an arm can be pulled no more than that.  Putting the value of $n_{m_{i}}=\dfrac{2\log{(\psi T\epsilon_{m_{i}}^{2})}}{\epsilon_{m_{i}}}$ in $c_{m_{i}}$,
\begin{align*}
c_{m_{i}}&=\sqrt{\dfrac{\rho\epsilon_{m_{i}}\log (\psi T\epsilon_{m_{i}}^{2})}{2*2 \log(\psi T\epsilon_{m_{i}}^{2})}}\\
& =\dfrac{\sqrt{\rho\epsilon_{m_{i}}}}{2}\\
& \leq \sqrt{\rho\epsilon_{m_{i}+1}} < \dfrac{\Delta_{i}^{\tau}}{4} \text{, as }\rho\in (0,1].
\end{align*}


Again, for ${i} \in A^{'}$ for \ref{eq:armelim-casea} elimination condition, 
\begin{align*}
\hat{r}_{i} + c_{m_{i}}&\leq r_{i} + 2c_{m_{i}} \\
&= r_{i} + 4c_{m_{i}} - 2c_{m_{i}} \\
&< r_{i} + \Delta_{i}^{\tau} - 2c_{m_{i}}\\
&= \tau -2c_{m_{i}} \\
&\leq \tau - c_{m_{i}}
\end{align*}

Also, for ${i} \in A^{'}$ for \ref{eq:armelim-caseb} elimination condition, 
\begin{align*}
\hat{r}_{i} - c_{m_{i}}&\geq r_{i} - 2c_{m_{i}} \\
&= r_{i} - 4c_{m_{i}} + 2c_{m_{i}} \\
&> r_{i} - \Delta_{i}^{\tau} + 2c_{m_{i}}\\
&\geq \tau + 2c_{m_{i}} \\
&\geq \tau + c_{m_{i}}
\end{align*}

Applying Chernoff-Hoeffding bound and considering independence of complementary of the two events in \ref{eq:armelim-casea},
  \begin{align*}
\mathbb{P}\lbrace\hat{r}_{i}\geq r_{i} - (\tau + 2c_{m_{i}})\rbrace &\leq exp(-2(\tau + 2c_{m_{i}})^{2}n_{m_{i}})\\
&\leq exp(-2(2\tau c_{m_{i}})^{2}n_{m_{i}}) \text{ , as} (a+b)^{2} \geq (ab)^{2} \text{ for } a,b\in[0,1]\\
&\leq exp(-8 * \dfrac{\rho\log (\psi T\epsilon_{m_{i}}^{2})}{2 n_{m_{i}}} *n_{m_{i}})\\
&\leq \dfrac{1}{(\psi T\epsilon_{m_{i}}^{2})^{4\rho}}   
  \end{align*}
  
Similarly, $\mathbb{P}\lbrace\hat{r}_{i}\leq r_{i} + (\tau + 2c_{m_{i}})\rbrace\leq \dfrac{1}{(\psi  T\epsilon_{m_{i}}^{2})^{4\rho}}$
 
Summing, the two up, the probability that an arm ${i}$ is not eliminated on or before $m_{i}$-th round based on the \ref{eq:armelim-casea} and \ref{eq:armelim-caseb} elimination condition is  $\bigg(\dfrac{2}{(\psi T\epsilon_{m_{i}}^{2})^{4\rho}}\bigg)$. 

%Also, for \ref{eq:armelim-caseb} elimination condition by applying Chernoff-Hoeffding bound and considering independence of complementary of the two events in \ref{eq:armelim-caseb} we can derive a similar bound that a sub-optimal arm ${i}$ is not eliminated on or before $m_{i}$-th by $\bigg(\dfrac{2}{(\psi T\epsilon_{m_{i}}^{2})^{\rho}}\bigg)$. 
%
%So the total probability that an arm $i$ is eliminated from $B_{m_{i}}$ is bounded by $\bigg(\dfrac{4}{(\psi T\epsilon_{m_{i}}^{2})^{\rho}}\bigg)$. 

\subsubsection{\textit{Case b: For any arm $i$, it is either eliminated on or before round $m_{i}$ or there is no arm above $\tau$.}}


	For any round $m$, for any timestep $t\in m$ an arm $i\in B_{m}$ gets pulled if,
\begin{align*}
|\hat{r}_{i} - \tau| - c_{i} < |\hat{r}_{k} - \tau| - c_{k} \text{, } \forall k\in B_{m}
\end{align*}

Now from reverse triangle inequality,
\begin{align}
|\hat{r}_{k}(t) - r_{k}|&=|(\hat{r}_{k}(t)-\tau) - (r_{k}-\tau)|\\
&\geq ||\hat{r}_{k}(t)-\tau|-|(r_{k}-\tau)||\\
&\geq |\hat{\Delta}_{k}^{\tau}(t) - \Delta_{k}^{\tau}| \label{rev-triangle}
\end{align}

Also, from case a, we know that for every arm $i$, in round $m_{i}$

\begin{align}
|\hat{r}_{k} - r_{k}| \leq c_{m_{k}} =  \sqrt{\dfrac{\rho\log{(\psi T\epsilon_{m}^{2})}}{2 n_{k}}}  \label{bound-1}
\end{align}

Now, combining \ref{rev-triangle} and \ref{bound-1} we can see that,

\begin{align*}
&|\hat{\Delta}_{k}^{\tau}(t) - \Delta_{k}^{\tau}| \leq c_{m_{k}}\\
&\Rightarrow \Delta_{k}^{\tau} - c_{m_{k}} \leq \hat{\Delta}_{k}^{\tau}(t) \leq \Delta_{k}^{\tau} +c_{m_{k}}
\end{align*}

Since, at time $t$ in round $m_{i}$ the arm i is pulled, so,

\begin{align*}
\hat{\Delta}_{i}^{\tau} - c_{i} < \hat{\Delta}_{k}^{\tau} - c_{k}
\end{align*}

\end{proof}